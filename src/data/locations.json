{
    "airport-food-court": {
        "name": "the airport food court",
        "label": "Narita Airport Food Court",
        "area": "Food Court",
        "wanderlust": true,
        "connected": ["airport-gate", "airport-food-court-ramen"],
        "pois": [],
        "structures": [
            "food-court-ramen",
            "blank",
            "food-court-bakery",
            "food-court-chairs",
            "food-court-chairs",
            "food-court-ramen",
            "arrival-departure-board"
        ],
        "wanderEvents": [
            {
                "filters": [],
                "events": [
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You see a beautifully wrapped present abandoned by a trash can. You couldn't care less about the present--what you're really interested in is the ribbon wrapped around it.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "hat:ribbon",
                                    "value": false
                                }
                            ],
                            "effects": [
                                {
                                    "type": "flag",
                                    "flag": "hat:ribbon",
                                    "value": true
                                },
                                {
                                    "type": "quest",
                                    "quest": "hats",
                                    "stage": "collecting-hats",
                                    "journal": "Despite being a ribbon, it seems to protect you from all evil."
                                }
                            ]
                        },
                        "weight": 1
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You find some coins on the ground. This might help you buy a drink from the vending machine.",
                            "filters": [
                                {
                                    "type": "or",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "found-machine"
                                        },
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "need-yen"
                                        }
                                    ]
                                }
                            ],
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 20
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You stumble across some coins on the ground.",
                            "filters": [
                                {
                                    "type": "or",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "complete"
                                        }
                                    ]
                                }
                            ],
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 20
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "A restaurant is handing out samples. You happily take one.",
                            "filters": [],
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "stamina",
                                    "value": 10
                                }
                            ]
                        },
                        "weight": 2
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-transliteration-job",
                                    "value": true
                                }
                            ],
                            "question": {
                                "type": "ti-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ]
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 1
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-transliteration-job",
                                    "value": true
                                },
                                {
                                    "type": "not",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "airport-train-station",
                                            "stage": "need-resources"
                                        }
                                    ]
                                }
                            ],
                            "question": {
                                "type": "ti-learn-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ],
                                "onlySeenKana": true
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 1
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You see a restaurant's name written in hiragana and romaji.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-next-learnable",
                                    "value": true
                                },
                                {
                                    "type": "average-mastery",
                                    "collection": "hira-basic",
                                    "masteryNeeded": 40
                                }
                            ],
                            "effects": [
                                {
                                    "type": "learn-next",
                                    "collection": "hiragana-basic"
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "As you walk, you remember a flash card from high school Japanese class.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-next-learnable",
                                    "value": true
                                },
                                {
                                    "type": "average-mastery",
                                    "collection": "hira-basic",
                                    "masteryNeeded": 20
                                }
                            ],
                            "effects": [
                                {
                                    "type": "learn-next",
                                    "collection": "hiragana-basic"
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "quest",
                                    "quest": "airport-train-station",
                                    "stage": "need-resources"
                                }
                            ],
                            "question": {
                                "type": "ti-learn-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ],
                                "onlySeenKana": true
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 3
                    }
                ]
            }
        ]
    },
    "airport-food-court-ramen": {
        "name": "a counter selling ramen",
        "label": "Ramen-ya",
        "area": "Ramen-ya",
        "wanderlust": false,
        "connected": ["airport-food-court"],
        "pois": [
            {
                "label": "Order Blue Ramen",
                "eventSource": "airport-food-court-ramen-ya",
                "cooldown": 1000,
                "cost": [ "yen", 300 ]
            },
            {
                "label": "Order Red Ramen",
                "eventSource": "airport-food-court-ramen-ya-red",
                "cooldown": 1000,
                "filters": [
                    {
                        "type": "quest",
                        "quest": "ramen-ya",
                        "stage": "complete"
                    }
                ],
                "cost": [ "yen", 450 ]
            },
            {
                "label": "Order Purple Ramen",
                "eventSource": "airport-food-court-ramen-ya-purple",
                "cooldown": 1000,
                "filters": [
                    {
                        "type": "quest",
                        "quest": "ramen-ya",
                        "stage": "complete"
                    }
                ],
                "cost": [ "yen", 600 ]
            },
            {
                "label": "Talk to Chef",
                "eventSource": "airport-food-court-ramen-ya-chef",
                "cooldown": 1000,
                "filters": [
                    {
                        "type": "flag",
                        "flag": "ordered-blue-ramen",
                        "value": true
                    },
                    {
                        "type": "flag",
                        "flag": "ordered-red-ramen",
                        "value": true
                    },
                    {
                        "type": "flag",
                        "flag": "ordered-purple-ramen",
                        "value": true
                    },
                    {
                        "type": "flag",
                        "flag": "talked-to-rainbow-ramen-chef",
                        "value": false
                    }
                ]
            }
        ],
        "structures": [
            "food-court-ramen-front"
        ]
    },
    "airport-gate": {
        "name": "the gate you just arrived at",
        "wanderName": "the airport gate area",
        "label": "Arrival Gate",
        "area": "Arrival Gate",
        "wanderlust": true,
        "connected": ["airport-food-court", "airport-gate-vending-machine"],
        "pois": [],
        "structures": [
            "blank",
            "arrival-departure-board",
            "blank",
            "vending-machine-indoors",
            "blank",
            "escalator",
            "escalator",
            "baggage-claim",
            "baggage-carousel",
            "baggage-claim",
            "arrival-departure-board",
            "baggage-claim",
            "baggage-carousel",
            "blank",
            "vending-machine-indoors",
            "food-court-ramen"
        ],
        "wanderEvents": [
            {
                "filters": [],
                "events": [
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You find a cap on the ground. It would be a shame to waste such a good cap.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "hat:cap",
                                    "value": false
                                }
                            ],
                            "effects": [
                                {
                                    "type": "flag",
                                    "flag": "hat:cap",
                                    "value": true
                                },
                                {
                                    "type": "quest",
                                    "quest": "hats",
                                    "stage": "collecting-hats",
                                    "journal": "You suddenly feel the urge to become the very best."
                                }
                            ]
                        },
                        "weight": 1
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You find some money on the ground. This might help you buy a drink from the vending machine.",
                            "filters": [
                                {
                                    "type": "or",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "found-machine"
                                        },
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "need-yen"
                                        }
                                    ]
                                }
                            ],
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 10
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You stumble across a 10-yen coin on the ground.",
                            "filters": [
                                {
                                    "type": "or",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "complete"
                                        }
                                    ]
                                }
                            ],
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 10
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-transliteration-job",
                                    "value": true
                                }
                            ],
                            "question": {
                                "type": "ti-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ]
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 1
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-transliteration-job",
                                    "value": true
                                },
                                {
                                    "type": "not",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "airport-train-station",
                                            "stage": "need-resources"
                                        }
                                    ]
                                }
                            ],
                            "question": {
                                "type": "ti-learn-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ],
                                "onlySeenKana": true
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 1
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You spot a sign written in hiragana and romaji.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-next-learnable",
                                    "value": true
                                },
                                {
                                    "type": "average-mastery",
                                    "collection": "hira-basic",
                                    "masteryNeeded": 40
                                }
                            ],
                            "effects": [
                                {
                                    "type": "learn-next",
                                    "collection": "hiragana-basic"
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "As you walk, you remember a flash card from high school Japanese class.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-next-learnable",
                                    "value": true
                                },
                                {
                                    "type": "average-mastery",
                                    "collection": "hira-basic",
                                    "masteryNeeded": 20
                                }
                            ],
                            "effects": [
                                {
                                    "type": "learn-next",
                                    "collection": "hiragana-basic"
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "quest",
                                    "quest": "airport-train-station",
                                    "stage": "need-resources"
                                }
                            ],
                            "question": {
                                "type": "ti-learn-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ],
                                "onlySeenKana": true
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 3
                    }
                ]
            }
        ]
    },
    "airport-gate-vending-machine": {
        "name": "a vending machine",
        "label": "Vending Machine",
        "area": "Vending Machine",
        "wanderlust": false,
        "connected": ["airport-gate"],
        "pois": [
            {
                "label": "Buy Drink",
                "eventSource": "vending-machine",
                "cooldown": 1000,
                "cost": [ "yen", 160 ]
            },
            {
                "label": "Buy Green Fizzy Drink",
                "eventSource": "vending-machine-green",
                "cooldown": 1000,
                "cost": [ "yen", 200 ],
                "filters": [
                    {
                        "type": "quest",
                        "quest": "rehydrate",
                        "stage": "complete"
                    }
                ]
            },
            {
                "label": "Buy Hat",
                "eventSource": "vending-machine-hat",
                "cooldown": 500,
                "cost": [ "yen", 500 ],
                "filters": [
                    {
                        "type": "quest",
                        "quest": "rehydrate",
                        "stage": "complete"
                    }
                ]
            },
            {
                "label": "Buy ???",
                "eventSource": "vending-machine-mystery-hat",
                "cooldown": 500,
                "cost": [ "yen", 10000 ],
                "filters": [
                    {
                        "type": "flag",
                        "flag": "hat:fedora",
                        "value": true
                    }
                ]
            }
        ],
        "structures": [
            "vendclose"
        ]
    },
    "airport-train-station": {
        "name": "the airport's train station",
        "label": "Train Station",
        "area": "Train Station",
        "wanderlust": true,
        "connected": ["airport-gate", "airport-train-station-ticket-booth", "airport-food-court"],
        "pois": [],
        "structures": [
            "blank",
            "subway-pillar",
            "subway-ticketmachine",
            "subway-ticketmachine",
            "subway-ticketmachine",
            "blank",
            "subway-pillar",
            "subway-gate",
            "subway-gate",
            "subway-pillar",
            "blank",
            "subway-stairs"
        ],
        "wanderEvents": [
            {
                "filters": [],
                "events": [
                    {
                        "event": {
                            "type": "flavor",
                            "text": "A stranger teaches you about the art of witchcraft. You didn't understand a word she said, but at least you got a dope hat from her.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "hat:witch-hat",
                                    "value": false
                                }
                            ],
                            "effects": [
                                {
                                    "type": "flag",
                                    "flag": "hat:witch-hat",
                                    "value": true
                                },
                                {
                                    "type": "quest",
                                    "quest": "hats",
                                    "stage": "collecting-hats",
                                    "journal": "You gain one use of ＥＸＰＬＯＳＩＯＮ."
                                }
                            ]
                        },
                        "weight": 1
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You find some money on the ground. This might help you buy a drink from the vending machine.",
                            "filters": [
                                {
                                    "type": "or",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "found-machine"
                                        },
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "need-yen"
                                        }
                                    ]
                                }
                            ],
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 10
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "You stumble across a 10-yen coin on the ground.",
                            "filters": [
                                {
                                    "type": "or",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "rehydrate",
                                            "stage": "complete"
                                        }
                                    ]
                                }
                            ],
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 10
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-transliteration-job",
                                    "value": true
                                }
                            ],
                            "question": {
                                "type": "ti-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ]
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 2
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-transliteration-job",
                                    "value": true
                                },
                                {
                                    "type": "not",
                                    "filters": [
                                        {
                                            "type": "quest",
                                            "quest": "airport-train-station",
                                            "stage": "need-resources"
                                        }
                                    ]
                                }
                            ],
                            "question": {
                                "type": "ti-learn-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ],
                                "onlySeenKana": true
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 2
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "A map of the subway is written in hiragana and romaji.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-next-learnable",
                                    "value": true
                                },
                                {
                                    "type": "average-mastery",
                                    "collection": "hira-basic",
                                    "masteryNeeded": 40
                                }
                            ],
                            "effects": [
                                {
                                    "type": "learn-next",
                                    "collection": "hiragana-basic"
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "flavor",
                            "text": "As you walk, you remember a flash card from high school Japanese class.",
                            "filters": [
                                {
                                    "type": "flag",
                                    "flag": "has-next-learnable",
                                    "value": true
                                },
                                {
                                    "type": "average-mastery",
                                    "collection": "hira-basic",
                                    "masteryNeeded": 20
                                }
                            ],
                            "effects": [
                                {
                                    "type": "learn-next",
                                    "collection": "hiragana-basic"
                                }
                            ]
                        },
                        "weight": 3
                    },
                    {
                        "event": {
                            "type": "question",
                            "text": "While wandering around aimlessly, a complete stranger asks you for help transliterating something. Your reputation for transliterating random stuff must be growing.",
                            "correctPostText": "They thank you and give some money for your help. At this rate, you're going to need to file this income on your taxes.",
                            "wrongPostText": "They look disappointed and walk away. So much for that reputation of yours.",
                            "filters": [
                                {
                                    "type": "quest",
                                    "quest": "airport-train-station",
                                    "stage": "need-resources"
                                }
                            ],
                            "question": {
                                "type": "ti-learn-vocab",
                                "collections": [
                                    "vocab-basic-colors",
                                    "vocab-basic-numbers"
                                ],
                                "onlySeenKana": true
                            },
                            "effects": [
                                {
                                    "type": "resource",
                                    "resource": "yen",
                                    "value": 50
                                }
                            ],
                            "failureEffects": []
                        },
                        "weight": 3
                    }
                ]
            }
        ]
    },
    "airport-train-station-ticket-booth": {
        "name": "the train ticket booth",
        "label": "Ticket Booth",
        "area": "Ticket Booth",
        "wanderlust": false,
        "connected": ["airport-train-station"],
        "pois": [
            {
                "label": "Buy a Ticket",
                "eventSource": "ticket-booth",
                "cooldown": 1000
            }
        ],
        "structures": [
            "subway-ticketmachine-front"
        ]
    }
}
